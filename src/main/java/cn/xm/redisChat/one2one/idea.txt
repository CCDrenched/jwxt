一对一聊天的思路:(采用Lpush和Brpop实现)
1.消息生产者生产消息到redis中:生产消息的时候根据接收人的userName与消息的类型发送到对应的key，采用lpush发送消息
2.消息的消费者根据userName，从userName的key中消费对应的消息。如果有必要可以将消息写到RDB中避免数据的丢失。(根据key获取用户对于的消息)
3.消息的内容头部加入发送者，例如原来消息内容是:hello，为了知道消息的发送者可以改为:张三:hello(获取消息的发送者)

**
在实际中可以完全借助mysql数据库实现聊天功能，建立一个表，保存接收人的username、message、isConsumed等信息，用户登录之后采用心跳机制不停的检测数据库并消费消息。
心跳可以做好事，比如检测检测当前用户是否已经登录，如果已经登录剔除之前已经登录的用户，实现一个用户一次登录的功能。
心跳可以采用JS的周期函数不停的向后台发起异步请求，后台查询未消息的消息
**

